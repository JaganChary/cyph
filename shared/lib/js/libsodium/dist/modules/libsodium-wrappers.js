!function(e){function t(e,t){"use strict";function r(e){if("function"==typeof TextEncoder)return new TextEncoder("utf-8").encode(e);e=unescape(encodeURIComponent(e));for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function a(e){if("function"==typeof TextDecoder)return new TextDecoder("utf-8",{fatal:!0}).decode(e);var t=Math.ceil(e.length/8192);if(t<=1)try{return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}catch(e){throw new TypeError("The encoded data was not valid.")}for(var r="",n=0,_=0;_<t;_++){var s=Array.prototype.slice.call(e,8192*_+n,8192*(_+1)+n);if(0!=s.length){var c,h=s.length,o=0;do{var p=s[--h];p>=240?(o=4,c=!0):p>=224?(o=3,c=!0):p>=192?(o=2,c=!0):p<128&&(o=1,c=!0)}while(!c);for(var i=o-(s.length-h),y=0;y<i;y++)n--,s.pop();r+=a(s)}}return r}function n(e){e=g(null,e,"input");for(var t,r,a,n="",_=0;_<e.length;_++)a=87+(r=15&e[_])+(r-10>>8&-39)<<8|87+(t=e[_]>>>4)+(t-10>>8&-39),n+=String.fromCharCode(255&a)+String.fromCharCode(a>>>8);return n}function _(e){if(void 0==e)return xt.URLSAFE_NO_PADDING;if(e!==xt.ORIGINAL&&e!==xt.ORIGINAL_NO_PADDING&&e!==xt.URLSAFE&&e!=xt.URLSAFE_NO_PADDING)throw new Error("unsupported base64 variant");return e}function s(e,t){t=_(t),e=g(n,e,"input");var r,n=[],s=0|Math.floor(e.length/3),c=e.length-3*s,h=4*s+(0!==c?0==(2&t)?4:2+(c>>>1):0),o=new p(h+1),y=i(e);return n.push(y),n.push(o.address),0===ft._sodium_bin2base64(o.address,o.length,y,e.length,t)&&l(n,"conversion failed"),o.length=h,r=a(o.to_Uint8Array()),u(n),r}function c(e,t){var r=t||mt;if(!h(r))throw new Error(r+" output format is not available");if(e instanceof p){if("uint8array"===r)return e.to_Uint8Array();if("text"===r)return a(e.to_Uint8Array());if("hex"===r)return n(e.to_Uint8Array());if("base64"===r)return s(e.to_Uint8Array(),xt.URLSAFE_NO_PADDING);throw new Error('What is output format "'+r+'"?')}if("object"==typeof e){for(var _=Object.keys(e),o={},i=0;i<_.length;i++)o[_[i]]=c(e[_[i]],r);return o}if("string"==typeof e)return e;throw new TypeError("Cannot format output")}function h(e){for(var t=["uint8array","text","hex","base64"],r=0;r<t.length;r++)if(t[r]===e)return!0;return!1}function o(e){if(e){if("string"!=typeof e)throw new TypeError("When defined, the output format must be a string");if(!h(e))throw new Error(e+" is not a supported output format")}}function p(e){this.length=e,this.address=y(e)}function i(e){var t=y(e.length);return ft.HEAPU8.set(e,t),t}function y(e){var t=ft._malloc(e);if(0===t)throw{message:"_malloc() failed",length:e};return t}function u(e){if(e)for(var t=0;t<e.length;t++)r=e[t],ft._free(r);var r}function l(e,t){throw u(e),new Error(t)}function d(e,t){throw u(e),new TypeError(t)}function v(e,t,r){void 0==t&&d(e,r+" cannot be null or undefined")}function g(e,t,a){return v(e,t,a),t instanceof Uint8Array?t:"string"==typeof t?r(t):void d(e,"unsupported input type for "+a)}function b(e,t,r,a,n,_){var s=[];o(_);var h=null;void 0!=e&&(h=i(e=g(s,e,"secret_nonce")),e.length,s.push(h));var y=i(t=g(s,t,"ciphertext")),v=t.length;s.push(y);var b=null,f=0;void 0!=r&&(b=i(r=g(s,r,"additional_data")),f=r.length,s.push(b)),a=g(s,a,"public_nonce");var m,k=0|ft._crypto_aead_chacha20poly1305_npubbytes();a.length!==k&&d(s,"invalid public_nonce length"),m=i(a),s.push(m),n=g(s,n,"key");var x,E=0|ft._crypto_aead_chacha20poly1305_keybytes();n.length!==E&&d(s,"invalid key length"),x=i(n),s.push(x);var w=new p(v-ft._crypto_aead_chacha20poly1305_abytes()|0),S=w.address;if(s.push(S),0===ft._crypto_aead_chacha20poly1305_decrypt(S,null,h,y,v,0,b,f,0,m,x)){var T=c(w,_);return u(s),T}l(s,"invalid usage")}function f(e,t,r,a,n,_,s){var h=[];o(s);var y=null;void 0!=e&&(y=i(e=g(h,e,"secret_nonce")),e.length,h.push(y));var v=i(t=g(h,t,"ciphertext")),b=t.length;h.push(v),r=g(h,r,"mac");var f,m=0|ft._crypto_box_macbytes();r.length!==m&&d(h,"invalid mac length"),f=i(r),h.push(f);var k=null,x=0;void 0!=a&&(k=i(a=g(h,a,"additional_data")),x=a.length,h.push(k)),n=g(h,n,"public_nonce");var E,w=0|ft._crypto_aead_chacha20poly1305_npubbytes();n.length!==w&&d(h,"invalid public_nonce length"),E=i(n),h.push(E),_=g(h,_,"key");var S,T=0|ft._crypto_aead_chacha20poly1305_keybytes();_.length!==T&&d(h,"invalid key length"),S=i(_),h.push(S);var Y=new p(0|b),A=Y.address;if(h.push(A),0===ft._crypto_aead_chacha20poly1305_decrypt_detached(A,y,v,b,0,f,k,x,0,E,S)){var K=c(Y,s);return u(h),K}l(h,"invalid usage")}function m(e,t,r,a,n,_){var s=[];o(_);var h=i(e=g(s,e,"message")),y=e.length;s.push(h);var v=null,b=0;void 0!=t&&(v=i(t=g(s,t,"additional_data")),b=t.length,s.push(v));var f=null;void 0!=r&&(f=i(r=g(s,r,"secret_nonce")),r.length,s.push(f)),a=g(s,a,"public_nonce");var m,k=0|ft._crypto_aead_chacha20poly1305_npubbytes();a.length!==k&&d(s,"invalid public_nonce length"),m=i(a),s.push(m),n=g(s,n,"key");var x,E=0|ft._crypto_aead_chacha20poly1305_keybytes();n.length!==E&&d(s,"invalid key length"),x=i(n),s.push(x);var w=new p(y+ft._crypto_aead_chacha20poly1305_abytes()|0),S=w.address;if(s.push(S),0===ft._crypto_aead_chacha20poly1305_encrypt(S,null,h,y,0,v,b,0,f,m,x)){var T=c(w,_);return u(s),T}l(s,"invalid usage")}function k(e,t,r,a,n,_){var s=[];o(_);var h=i(e=g(s,e,"message")),y=e.length;s.push(h);var v=null,b=0;void 0!=t&&(v=i(t=g(s,t,"additional_data")),b=t.length,s.push(v));var f=null;void 0!=r&&(f=i(r=g(s,r,"secret_nonce")),r.length,s.push(f)),a=g(s,a,"public_nonce");var m,k=0|ft._crypto_aead_chacha20poly1305_npubbytes();a.length!==k&&d(s,"invalid public_nonce length"),m=i(a),s.push(m),n=g(s,n,"key");var x,E=0|ft._crypto_aead_chacha20poly1305_keybytes();n.length!==E&&d(s,"invalid key length"),x=i(n),s.push(x);var w=new p(0|y),S=w.address;s.push(S);var T=new p(0|ft._crypto_aead_chacha20poly1305_abytes()),Y=T.address;if(s.push(Y),0===ft._crypto_aead_chacha20poly1305_encrypt_detached(S,Y,null,h,y,0,v,b,0,f,m,x)){var A=c({ciphertext:w,mac:T},_);return u(s),A}l(s,"invalid usage")}function x(e,t,r,a,n,_){var s=[];o(_);var h=null;void 0!=e&&(h=i(e=g(s,e,"secret_nonce")),e.length,s.push(h));var y=i(t=g(s,t,"ciphertext")),v=t.length;s.push(y);var b=null,f=0;void 0!=r&&(b=i(r=g(s,r,"additional_data")),f=r.length,s.push(b)),a=g(s,a,"public_nonce");var m,k=0|ft._crypto_aead_chacha20poly1305_ietf_npubbytes();a.length!==k&&d(s,"invalid public_nonce length"),m=i(a),s.push(m),n=g(s,n,"key");var x,E=0|ft._crypto_aead_chacha20poly1305_ietf_keybytes();n.length!==E&&d(s,"invalid key length"),x=i(n),s.push(x);var w=new p(v-ft._crypto_aead_chacha20poly1305_ietf_abytes()|0),S=w.address;if(s.push(S),0===ft._crypto_aead_chacha20poly1305_ietf_decrypt(S,null,h,y,v,0,b,f,0,m,x)){var T=c(w,_);return u(s),T}l(s,"invalid usage")}function E(e,t,r,a,n,_,s){var h=[];o(s);var y=null;void 0!=e&&(y=i(e=g(h,e,"secret_nonce")),e.length,h.push(y));var v=i(t=g(h,t,"ciphertext")),b=t.length;h.push(v),r=g(h,r,"mac");var f,m=0|ft._crypto_box_macbytes();r.length!==m&&d(h,"invalid mac length"),f=i(r),h.push(f);var k=null,x=0;void 0!=a&&(k=i(a=g(h,a,"additional_data")),x=a.length,h.push(k)),n=g(h,n,"public_nonce");var E,w=0|ft._crypto_aead_chacha20poly1305_ietf_npubbytes();n.length!==w&&d(h,"invalid public_nonce length"),E=i(n),h.push(E),_=g(h,_,"key");var S,T=0|ft._crypto_aead_chacha20poly1305_ietf_keybytes();_.length!==T&&d(h,"invalid key length"),S=i(_),h.push(S);var Y=new p(0|b),A=Y.address;if(h.push(A),0===ft._crypto_aead_chacha20poly1305_ietf_decrypt_detached(A,y,v,b,0,f,k,x,0,E,S)){var K=c(Y,s);return u(h),K}l(h,"invalid usage")}function w(e,t,r,a,n,_){var s=[];o(_);var h=i(e=g(s,e,"message")),y=e.length;s.push(h);var v=null,b=0;void 0!=t&&(v=i(t=g(s,t,"additional_data")),b=t.length,s.push(v));var f=null;void 0!=r&&(f=i(r=g(s,r,"secret_nonce")),r.length,s.push(f)),a=g(s,a,"public_nonce");var m,k=0|ft._crypto_aead_chacha20poly1305_ietf_npubbytes();a.length!==k&&d(s,"invalid public_nonce length"),m=i(a),s.push(m),n=g(s,n,"key");var x,E=0|ft._crypto_aead_chacha20poly1305_ietf_keybytes();n.length!==E&&d(s,"invalid key length"),x=i(n),s.push(x);var w=new p(y+ft._crypto_aead_chacha20poly1305_ietf_abytes()|0),S=w.address;if(s.push(S),0===ft._crypto_aead_chacha20poly1305_ietf_encrypt(S,null,h,y,0,v,b,0,f,m,x)){var T=c(w,_);return u(s),T}l(s,"invalid usage")}function S(e,t,r,a,n,_){var s=[];o(_);var h=i(e=g(s,e,"message")),y=e.length;s.push(h);var v=null,b=0;void 0!=t&&(v=i(t=g(s,t,"additional_data")),b=t.length,s.push(v));var f=null;void 0!=r&&(f=i(r=g(s,r,"secret_nonce")),r.length,s.push(f)),a=g(s,a,"public_nonce");var m,k=0|ft._crypto_aead_chacha20poly1305_ietf_npubbytes();a.length!==k&&d(s,"invalid public_nonce length"),m=i(a),s.push(m),n=g(s,n,"key");var x,E=0|ft._crypto_aead_chacha20poly1305_ietf_keybytes();n.length!==E&&d(s,"invalid key length"),x=i(n),s.push(x);var w=new p(0|y),S=w.address;s.push(S);var T=new p(0|ft._crypto_aead_chacha20poly1305_ietf_abytes()),Y=T.address;if(s.push(Y),0===ft._crypto_aead_chacha20poly1305_ietf_encrypt_detached(S,Y,null,h,y,0,v,b,0,f,m,x)){var A=c({ciphertext:w,mac:T},_);return u(s),A}l(s,"invalid usage")}function T(e){var t=[];o(e);var r=new p(0|ft._crypto_aead_chacha20poly1305_ietf_keybytes()),a=r.address;t.push(a),ft._crypto_aead_chacha20poly1305_ietf_keygen(a);var n=c(r,e);return u(t),n}function Y(e){var t=[];o(e);var r=new p(0|ft._crypto_aead_chacha20poly1305_keybytes()),a=r.address;t.push(a),ft._crypto_aead_chacha20poly1305_keygen(a);var n=c(r,e);return u(t),n}function A(e,t,r,a,n,_){var s=[];o(_);var h=null;void 0!=e&&(h=i(e=g(s,e,"secret_nonce")),e.length,s.push(h));var y=i(t=g(s,t,"ciphertext")),v=t.length;s.push(y);var b=null,f=0;void 0!=r&&(b=i(r=g(s,r,"additional_data")),f=r.length,s.push(b)),a=g(s,a,"public_nonce");var m,k=0|ft._crypto_aead_xchacha20poly1305_ietf_npubbytes();a.length!==k&&d(s,"invalid public_nonce length"),m=i(a),s.push(m),n=g(s,n,"key");var x,E=0|ft._crypto_aead_xchacha20poly1305_ietf_keybytes();n.length!==E&&d(s,"invalid key length"),x=i(n),s.push(x);var w=new p(v-ft._crypto_aead_xchacha20poly1305_ietf_abytes()|0),S=w.address;if(s.push(S),0===ft._crypto_aead_xchacha20poly1305_ietf_decrypt(S,null,h,y,v,0,b,f,0,m,x)){var T=c(w,_);return u(s),T}l(s,"invalid usage")}function K(e,t,r,a,n,_,s){var h=[];o(s);var y=null;void 0!=e&&(y=i(e=g(h,e,"secret_nonce")),e.length,h.push(y));var v=i(t=g(h,t,"ciphertext")),b=t.length;h.push(v),r=g(h,r,"mac");var f,m=0|ft._crypto_box_macbytes();r.length!==m&&d(h,"invalid mac length"),f=i(r),h.push(f);var k=null,x=0;void 0!=a&&(k=i(a=g(h,a,"additional_data")),x=a.length,h.push(k)),n=g(h,n,"public_nonce");var E,w=0|ft._crypto_aead_xchacha20poly1305_ietf_npubbytes();n.length!==w&&d(h,"invalid public_nonce length"),E=i(n),h.push(E),_=g(h,_,"key");var S,T=0|ft._crypto_aead_xchacha20poly1305_ietf_keybytes();_.length!==T&&d(h,"invalid key length"),S=i(_),h.push(S);var Y=new p(0|b),A=Y.address;if(h.push(A),0===ft._crypto_aead_xchacha20poly1305_ietf_decrypt_detached(A,y,v,b,0,f,k,x,0,E,S)){var K=c(Y,s);return u(h),K}l(h,"invalid usage")}function B(e,t,r,a,n,_){var s=[];o(_);var h=i(e=g(s,e,"message")),y=e.length;s.push(h);var v=null,b=0;void 0!=t&&(v=i(t=g(s,t,"additional_data")),b=t.length,s.push(v));var f=null;void 0!=r&&(f=i(r=g(s,r,"secret_nonce")),r.length,s.push(f)),a=g(s,a,"public_nonce");var m,k=0|ft._crypto_aead_xchacha20poly1305_ietf_npubbytes();a.length!==k&&d(s,"invalid public_nonce length"),m=i(a),s.push(m),n=g(s,n,"key");var x,E=0|ft._crypto_aead_xchacha20poly1305_ietf_keybytes();n.length!==E&&d(s,"invalid key length"),x=i(n),s.push(x);var w=new p(y+ft._crypto_aead_xchacha20poly1305_ietf_abytes()|0),S=w.address;if(s.push(S),0===ft._crypto_aead_xchacha20poly1305_ietf_encrypt(S,null,h,y,0,v,b,0,f,m,x)){var T=c(w,_);return u(s),T}l(s,"invalid usage")}function I(e,t,r,a,n,_){var s=[];o(_);var h=i(e=g(s,e,"message")),y=e.length;s.push(h);var v=null,b=0;void 0!=t&&(v=i(t=g(s,t,"additional_data")),b=t.length,s.push(v));var f=null;void 0!=r&&(f=i(r=g(s,r,"secret_nonce")),r.length,s.push(f)),a=g(s,a,"public_nonce");var m,k=0|ft._crypto_aead_xchacha20poly1305_ietf_npubbytes();a.length!==k&&d(s,"invalid public_nonce length"),m=i(a),s.push(m),n=g(s,n,"key");var x,E=0|ft._crypto_aead_xchacha20poly1305_ietf_keybytes();n.length!==E&&d(s,"invalid key length"),x=i(n),s.push(x);var w=new p(0|y),S=w.address;s.push(S);var T=new p(0|ft._crypto_aead_xchacha20poly1305_ietf_abytes()),Y=T.address;if(s.push(Y),0===ft._crypto_aead_xchacha20poly1305_ietf_encrypt_detached(S,Y,null,h,y,0,v,b,0,f,m,x)){var A=c({ciphertext:w,mac:T},_);return u(s),A}l(s,"invalid usage")}function M(e){var t=[];o(e);var r=new p(0|ft._crypto_aead_xchacha20poly1305_ietf_keybytes()),a=r.address;t.push(a),ft._crypto_aead_xchacha20poly1305_ietf_keygen(a);var n=c(r,e);return u(t),n}function L(e,t,r){var a=[];o(r);var n=i(e=g(a,e,"message")),_=e.length;a.push(n),t=g(a,t,"key");var s,h=0|ft._crypto_auth_keybytes();t.length!==h&&d(a,"invalid key length"),s=i(t),a.push(s);var y=new p(0|ft._crypto_auth_bytes()),v=y.address;if(a.push(v),0==(0|ft._crypto_auth(v,n,_,0,s))){var b=c(y,r);return u(a),b}l(a,"invalid usage")}function N(e,t,r){var a=[];o(r);var n=i(e=g(a,e,"message")),_=e.length;a.push(n),t=g(a,t,"key");var s,h=0|ft._crypto_auth_hmacsha256_keybytes();t.length!==h&&d(a,"invalid key length"),s=i(t),a.push(s);var y=new p(0|ft._crypto_auth_hmacsha256_bytes()),v=y.address;if(a.push(v),0==(0|ft._crypto_auth_hmacsha256(v,n,_,0,s))){var b=c(y,r);return u(a),b}l(a,"invalid usage")}function U(e){var t=[];o(e);var r=new p(0|ft._crypto_auth_hmacsha256_keybytes()),a=r.address;t.push(a),ft._crypto_auth_hmacsha256_keygen(a);var n=c(r,e);return u(t),n}function O(e,t,r){var a=[];e=g(a,e,"tag");var n,_=0|ft._crypto_auth_hmacsha256_bytes();e.length!==_&&d(a,"invalid tag length"),n=i(e),a.push(n);var s=i(t=g(a,t,"message")),c=t.length;a.push(s),r=g(a,r,"key");var h,o=0|ft._crypto_auth_hmacsha256_keybytes();r.length!==o&&d(a,"invalid key length"),h=i(r),a.push(h);var p=0==(0|ft._crypto_auth_hmacsha256_verify(n,s,c,0,h));return u(a),p}function R(e,t,r){var a=[];o(r);var n=i(e=g(a,e,"message")),_=e.length;a.push(n),t=g(a,t,"key");var s,h=0|ft._crypto_auth_hmacsha512_keybytes();t.length!==h&&d(a,"invalid key length"),s=i(t),a.push(s);var y=new p(0|ft._crypto_auth_hmacsha512_bytes()),v=y.address;if(a.push(v),0==(0|ft._crypto_auth_hmacsha512(v,n,_,0,s))){var b=c(y,r);return u(a),b}l(a,"invalid usage")}function P(e){var t=[];o(e);var r=new p(0|ft._crypto_auth_hmacsha512_keybytes()),a=r.address;t.push(a),ft._crypto_auth_hmacsha512_keygen(a);var n=c(r,e);return u(t),n}function C(e,t,r){var a=[];e=g(a,e,"tag");var n,_=0|ft._crypto_auth_hmacsha512_bytes();e.length!==_&&d(a,"invalid tag length"),n=i(e),a.push(n);var s=i(t=g(a,t,"message")),c=t.length;a.push(s),r=g(a,r,"key");var h,o=0|ft._crypto_auth_hmacsha512_keybytes();r.length!==o&&d(a,"invalid key length"),h=i(r),a.push(h);var p=0==(0|ft._crypto_auth_hmacsha512_verify(n,s,c,0,h));return u(a),p}function G(e){var t=[];o(e);var r=new p(0|ft._crypto_auth_keybytes()),a=r.address;t.push(a),ft._crypto_auth_keygen(a);var n=c(r,e);return u(t),n}function D(e,t,r){var a=[];e=g(a,e,"tag");var n,_=0|ft._crypto_auth_bytes();e.length!==_&&d(a,"invalid tag length"),n=i(e),a.push(n);var s=i(t=g(a,t,"message")),c=t.length;a.push(s),r=g(a,r,"key");var h,o=0|ft._crypto_auth_keybytes();r.length!==o&&d(a,"invalid key length"),h=i(r),a.push(h);var p=0==(0|ft._crypto_auth_verify(n,s,c,0,h));return u(a),p}function X(e,t,r){var a=[];o(r),e=g(a,e,"publicKey");var n,_=0|ft._crypto_box_publickeybytes();e.length!==_&&d(a,"invalid publicKey length"),n=i(e),a.push(n),t=g(a,t,"privateKey");var s,h=0|ft._crypto_box_secretkeybytes();t.length!==h&&d(a,"invalid privateKey length"),s=i(t),a.push(s);var y=new p(0|ft._crypto_box_beforenmbytes()),v=y.address;if(a.push(v),0==(0|ft._crypto_box_beforenm(v,n,s))){var b=c(y,r);return u(a),b}l(a,"invalid usage")}function V(e,t,r,a,n){var _=[];o(n);var s=i(e=g(_,e,"message")),h=e.length;_.push(s),t=g(_,t,"nonce");var y,v=0|ft._crypto_box_noncebytes();t.length!==v&&d(_,"invalid nonce length"),y=i(t),_.push(y),r=g(_,r,"publicKey");var b,f=0|ft._crypto_box_publickeybytes();r.length!==f&&d(_,"invalid publicKey length"),b=i(r),_.push(b),a=g(_,a,"privateKey");var m,k=0|ft._crypto_box_secretkeybytes();a.length!==k&&d(_,"invalid privateKey length"),m=i(a),_.push(m);var x=new p(0|h),E=x.address;_.push(E);var w=new p(0|ft._crypto_box_macbytes()),S=w.address;if(_.push(S),0==(0|ft._crypto_box_detached(E,S,s,h,0,y,b,m))){var T=c({ciphertext:x,mac:w},n);return u(_),T}l(_,"invalid usage")}function F(e,t,r,a,n){var _=[];o(n);var s=i(e=g(_,e,"message")),h=e.length;_.push(s),t=g(_,t,"nonce");var y,v=0|ft._crypto_box_noncebytes();t.length!==v&&d(_,"invalid nonce length"),y=i(t),_.push(y),r=g(_,r,"publicKey");var b,f=0|ft._crypto_box_publickeybytes();r.length!==f&&d(_,"invalid publicKey length"),b=i(r),_.push(b),a=g(_,a,"privateKey");var m,k=0|ft._crypto_box_secretkeybytes();a.length!==k&&d(_,"invalid privateKey length"),m=i(a),_.push(m);var x=new p(h+ft._crypto_box_macbytes()|0),E=x.address;if(_.push(E),0==(0|ft._crypto_box_easy(E,s,h,0,y,b,m))){var w=c(x,n);return u(_),w}l(_,"invalid usage")}function H(e,t,r,a){var n=[];o(a);var _=i(e=g(n,e,"message")),s=e.length;n.push(_),t=g(n,t,"nonce");var h,y=0|ft._crypto_box_noncebytes();t.length!==y&&d(n,"invalid nonce length"),h=i(t),n.push(h),r=g(n,r,"sharedKey");var v,b=0|ft._crypto_box_beforenmbytes();r.length!==b&&d(n,"invalid sharedKey length"),v=i(r),n.push(v);var f=new p(s+ft._crypto_box_macbytes()|0),m=f.address;if(n.push(m),0==(0|ft._crypto_box_easy_afternm(m,_,s,0,h,v))){var k=c(f,a);return u(n),k}l(n,"invalid usage")}function j(e){var t=[];o(e);var r=new p(0|ft._crypto_box_publickeybytes()),a=r.address;t.push(a);var n=new p(0|ft._crypto_box_secretkeybytes()),_=n.address;if(t.push(_),0==(0|ft._crypto_box_keypair(a,_))){var s={publicKey:c(r,e),privateKey:c(n,e),keyType:"x25519"};return u(t),s}l(t,"internal error")}function z(e,t,r,a,n,_){var s=[];o(_);var h=i(e=g(s,e,"ciphertext")),y=e.length;s.push(h),t=g(s,t,"mac");var v,b=0|ft._crypto_box_macbytes();t.length!==b&&d(s,"invalid mac length"),v=i(t),s.push(v),r=g(s,r,"nonce");var f,m=0|ft._crypto_box_noncebytes();r.length!==m&&d(s,"invalid nonce length"),f=i(r),s.push(f),a=g(s,a,"publicKey");var k,x=0|ft._crypto_box_publickeybytes();a.length!==x&&d(s,"invalid publicKey length"),k=i(a),s.push(k),n=g(s,n,"privateKey");var E,w=0|ft._crypto_box_secretkeybytes();n.length!==w&&d(s,"invalid privateKey length"),E=i(n),s.push(E);var S=new p(0|y),T=S.address;if(s.push(T),0==(0|ft._crypto_box_open_detached(T,h,v,y,0,f,k,E))){var Y=c(S,_);return u(s),Y}l(s,"incorrect key pair for the given ciphertext")}function W(e,t,r,a,n){var _=[];o(n);var s=i(e=g(_,e,"ciphertext")),h=e.length;_.push(s),t=g(_,t,"nonce");var y,v=0|ft._crypto_box_noncebytes();t.length!==v&&d(_,"invalid nonce length"),y=i(t),_.push(y),r=g(_,r,"publicKey");var b,f=0|ft._crypto_box_publickeybytes();r.length!==f&&d(_,"invalid publicKey length"),b=i(r),_.push(b),a=g(_,a,"privateKey");var m,k=0|ft._crypto_box_secretkeybytes();a.length!==k&&d(_,"invalid privateKey length"),m=i(a),_.push(m);var x=new p(h-ft._crypto_box_macbytes()|0),E=x.address;if(_.push(E),0==(0|ft._crypto_box_open_easy(E,s,h,0,y,b,m))){var w=c(x,n);return u(_),w}l(_,"incorrect key pair for the given ciphertext")}function J(e,t,r,a){var n=[];o(a);var _=i(e=g(n,e,"ciphertext")),s=e.length;n.push(_),t=g(n,t,"nonce");var h,y=0|ft._crypto_box_noncebytes();t.length!==y&&d(n,"invalid nonce length"),h=i(t),n.push(h),r=g(n,r,"sharedKey");var v,b=0|ft._crypto_box_beforenmbytes();r.length!==b&&d(n,"invalid sharedKey length"),v=i(r),n.push(v);var f=new p(s-ft._crypto_box_macbytes()|0),m=f.address;if(n.push(m),0==(0|ft._crypto_box_open_easy_afternm(m,_,s,0,h,v))){var k=c(f,a);return u(n),k}l(n,"incorrect secret key for the given ciphertext")}function q(e,t,r){var a=[];o(r);var n=i(e=g(a,e,"message")),_=e.length;a.push(n),t=g(a,t,"publicKey");var s,h=0|ft._crypto_box_publickeybytes();t.length!==h&&d(a,"invalid publicKey length"),s=i(t),a.push(s);var y=new p(_+ft._crypto_box_sealbytes()|0),v=y.address;if(a.push(v),0==(0|ft._crypto_box_seal(v,n,_,0,s))){var b=c(y,r);return u(a),b}l(a,"invalid usage")}function Q(e,t,r,a){var n=[];o(a);var _=i(e=g(n,e,"ciphertext")),s=e.length;n.push(_),t=g(n,t,"publicKey");var h,y=0|ft._crypto_box_publickeybytes();t.length!==y&&d(n,"invalid publicKey length"),h=i(t),n.push(h),r=g(n,r,"privateKey");var v,b=0|ft._crypto_box_secretkeybytes();r.length!==b&&d(n,"invalid privateKey length"),v=i(r),n.push(v);var f=new p(s-ft._crypto_box_sealbytes()|0),m=f.address;if(n.push(m),0==(0|ft._crypto_box_seal_open(m,_,s,0,h,v))){var k=c(f,a);return u(n),k}l(n,"incorrect key pair for the given ciphertext")}function Z(e,t){var r=[];o(t),e=g(r,e,"seed");var a,n=0|ft._crypto_box_seedbytes();e.length!==n&&d(r,"invalid seed length"),a=i(e),r.push(a);var _=new p(0|ft._crypto_box_publickeybytes()),s=_.address;r.push(s);var h=new p(0|ft._crypto_box_secretkeybytes()),y=h.address;if(r.push(y),0==(0|ft._crypto_box_seed_keypair(s,y,a))){var v={publicKey:c(_,t),privateKey:c(h,t),keyType:"x25519"};return u(r),v}l(r,"invalid usage")}function $(e,t,r,a){var n=[];o(a),v(n,e,"hash_length"),("number"!=typeof e||(0|e)!==e||e<0)&&d(n,"hash_length must be an unsigned integer");var _=i(t=g(n,t,"message")),s=t.length;n.push(_);var h=null,y=0;void 0!=r&&(h=i(r=g(n,r,"key")),y=r.length,n.push(h));var b=new p(e|=0),f=b.address;if(n.push(f),0==(0|ft._crypto_generichash(f,e,_,s,0,h,y))){var m=c(b,a);return u(n),m}l(n,"invalid usage")}function ee(e,t,r){var a=[];o(r),v(a,e,"state_address"),v(a,t,"hash_length"),("number"!=typeof t||(0|t)!==t||t<0)&&d(a,"hash_length must be an unsigned integer");var n=new p(t|=0),_=n.address;if(a.push(_),0==(0|ft._crypto_generichash_final(e,_,t))){var s=(ft._free(e),c(n,r));return u(a),s}l(a,"invalid usage")}function te(e,t,r){var a=[];o(r);var n=null,_=0;void 0!=e&&(n=i(e=g(a,e,"key")),_=e.length,a.push(n)),v(a,t,"hash_length"),("number"!=typeof t||(0|t)!==t||t<0)&&d(a,"hash_length must be an unsigned integer");var s=new p(357).address;if(0==(0|ft._crypto_generichash_init(s,n,_,t))){var c=s;return u(a),c}l(a,"invalid usage")}function re(e){var t=[];o(e);var r=new p(0|ft._crypto_generichash_keybytes()),a=r.address;t.push(a),ft._crypto_generichash_keygen(a);var n=c(r,e);return u(t),n}function ae(e,t,r){var a=[];o(r),v(a,e,"state_address");var n=i(t=g(a,t,"message_chunk")),_=t.length;a.push(n),0!=(0|ft._crypto_generichash_update(e,n,_))&&l(a,"invalid usage"),u(a)}function ne(e,t){var r=[];o(t);var a=i(e=g(r,e,"message")),n=e.length;r.push(a);var _=new p(0|ft._crypto_hash_bytes()),s=_.address;if(r.push(s),0==(0|ft._crypto_hash(s,a,n,0))){var h=c(_,t);return u(r),h}l(r,"invalid usage")}function _e(e,t){var r=[];o(t);var a=i(e=g(r,e,"message")),n=e.length;r.push(a);var _=new p(0|ft._crypto_hash_sha256_bytes()),s=_.address;if(r.push(s),0==(0|ft._crypto_hash_sha256(s,a,n,0))){var h=c(_,t);return u(r),h}l(r,"invalid usage")}function se(e,t){var r=[];o(t);var a=i(e=g(r,e,"message")),n=e.length;r.push(a);var _=new p(0|ft._crypto_hash_sha512_bytes()),s=_.address;if(r.push(s),0==(0|ft._crypto_hash_sha512(s,a,n,0))){var h=c(_,t);return u(r),h}l(r,"invalid usage")}function ce(e,t,a,n,_){var s=[];o(_),v(s,e,"subkey_len"),("number"!=typeof e||(0|e)!==e||e<0)&&d(s,"subkey_len must be an unsigned integer"),v(s,t,"subkey_id"),("number"!=typeof t||(0|t)!==t||t<0)&&d(s,"subkey_id must be an unsigned integer");var h=i(a=r(a+"\0"));a.length,s.push(h),n=g(s,n,"key");var y,l=0|ft._crypto_kdf_keybytes();n.length!==l&&d(s,"invalid key length"),y=i(n),s.push(y);var b=new p(0|e),f=b.address;s.push(f),ft._crypto_kdf_derive_from_key(f,e,t,0,h,y);var m=c(b,_);return u(s),m}function he(e){var t=[];o(e);var r=new p(0|ft._crypto_kdf_keybytes()),a=r.address;t.push(a),ft._crypto_kdf_keygen(a);var n=c(r,e);return u(t),n}function oe(e,t,r,a){var n=[];o(a),e=g(n,e,"clientPublicKey");var _,s=0|ft._crypto_kx_publickeybytes();e.length!==s&&d(n,"invalid clientPublicKey length"),_=i(e),n.push(_),t=g(n,t,"clientSecretKey");var h,y=0|ft._crypto_kx_secretkeybytes();t.length!==y&&d(n,"invalid clientSecretKey length"),h=i(t),n.push(h),r=g(n,r,"serverPublicKey");var v,b=0|ft._crypto_kx_publickeybytes();r.length!==b&&d(n,"invalid serverPublicKey length"),v=i(r),n.push(v);var f=new p(0|ft._crypto_kx_sessionkeybytes()),m=f.address;n.push(m);var k=new p(0|ft._crypto_kx_sessionkeybytes()),x=k.address;if(n.push(x),0==(0|ft._crypto_kx_client_session_keys(m,x,_,h,v))){var E=c({sharedRx:f,sharedTx:k},a);return u(n),E}l(n,"invalid usage")}function pe(e){var t=[];o(e);var r=new p(0|ft._crypto_kx_publickeybytes()),a=r.address;t.push(a);var n=new p(0|ft._crypto_kx_secretkeybytes()),_=n.address;if(t.push(_),0==(0|ft._crypto_kx_keypair(a,_))){var s={publicKey:c(r,e),privateKey:c(n,e),keyType:"x25519"};return u(t),s}l(t,"internal error")}function ie(e,t){var r=[];o(t),e=g(r,e,"seed");var a,n=0|ft._crypto_kx_seedbytes();e.length!==n&&d(r,"invalid seed length"),a=i(e),r.push(a);var _=new p(0|ft._crypto_kx_publickeybytes()),s=_.address;r.push(s);var h=new p(0|ft._crypto_kx_secretkeybytes()),y=h.address;if(r.push(y),0==(0|ft._crypto_kx_seed_keypair(s,y,a))){var v={publicKey:c(_,t),privateKey:c(h,t),keyType:"x25519"};return u(r),v}l(r,"internal error")}function ye(e,t,r,a){var n=[];o(a),e=g(n,e,"serverPublicKey");var _,s=0|ft._crypto_kx_publickeybytes();e.length!==s&&d(n,"invalid serverPublicKey length"),_=i(e),n.push(_),t=g(n,t,"serverSecretKey");var h,y=0|ft._crypto_kx_secretkeybytes();t.length!==y&&d(n,"invalid serverSecretKey length"),h=i(t),n.push(h),r=g(n,r,"clientPublicKey");var v,b=0|ft._crypto_kx_publickeybytes();r.length!==b&&d(n,"invalid clientPublicKey length"),v=i(r),n.push(v);var f=new p(0|ft._crypto_kx_sessionkeybytes()),m=f.address;n.push(m);var k=new p(0|ft._crypto_kx_sessionkeybytes()),x=k.address;if(n.push(x),0==(0|ft._crypto_kx_server_session_keys(m,x,_,h,v))){var E=c({sharedRx:f,sharedTx:k},a);return u(n),E}l(n,"invalid usage")}function ue(e,t,r){var a=[];o(r);var n=i(e=g(a,e,"message")),_=e.length;a.push(n),t=g(a,t,"key");var s,h=0|ft._crypto_onetimeauth_keybytes();t.length!==h&&d(a,"invalid key length"),s=i(t),a.push(s);var y=new p(0|ft._crypto_onetimeauth_bytes()),v=y.address;if(a.push(v),0==(0|ft._crypto_onetimeauth(v,n,_,0,s))){var b=c(y,r);return u(a),b}l(a,"invalid usage")}function le(e,t){var r=[];o(t),v(r,e,"state_address");var a=new p(0|ft._crypto_onetimeauth_bytes()),n=a.address;if(r.push(n),0==(0|ft._crypto_onetimeauth_final(e,n))){var _=(ft._free(e),c(a,t));return u(r),_}l(r,"invalid usage")}function de(e,t){var r=[];o(t);var a=null;void 0!=e&&(a=i(e=g(r,e,"key")),e.length,r.push(a));var n=new p(144).address;if(0==(0|ft._crypto_onetimeauth_init(n,a))){var _=n;return u(r),_}l(r,"invalid usage")}function ve(e){var t=[];o(e);var r=new p(0|ft._crypto_onetimeauth_keybytes()),a=r.address;t.push(a),ft._crypto_onetimeauth_keygen(a);var n=c(r,e);return u(t),n}function ge(e,t,r){var a=[];o(r),v(a,e,"state_address");var n=i(t=g(a,t,"message_chunk")),_=t.length;a.push(n),0!=(0|ft._crypto_onetimeauth_update(e,n,_))&&l(a,"invalid usage"),u(a)}function be(e,t,r){var a=[];e=g(a,e,"hash");var n,_=0|ft._crypto_onetimeauth_bytes();e.length!==_&&d(a,"invalid hash length"),n=i(e),a.push(n);var s=i(t=g(a,t,"message")),c=t.length;a.push(s),r=g(a,r,"key");var h,o=0|ft._crypto_onetimeauth_keybytes();r.length!==o&&d(a,"invalid key length"),h=i(r),a.push(h);var p=0==(0|ft._crypto_onetimeauth_verify(n,s,c,0,h));return u(a),p}function fe(e,t,r,a,n,_,s){var h=[];o(s),v(h,e,"keyLength"),("number"!=typeof e||(0|e)!==e||e<0)&&d(h,"keyLength must be an unsigned integer");var y=i(t=g(h,t,"password")),b=t.length;h.push(y),r=g(h,r,"salt");var f,m=0|ft._crypto_pwhash_saltbytes();r.length!==m&&d(h,"invalid salt length"),f=i(r),h.push(f),v(h,a,"opsLimit"),("number"!=typeof a||(0|a)!==a||a<0)&&d(h,"opsLimit must be an unsigned integer"),v(h,n,"memLimit"),("number"!=typeof n||(0|n)!==n||n<0)&&d(h,"memLimit must be an unsigned integer"),v(h,_,"algorithm"),("number"!=typeof _||(0|_)!==_||_<0)&&d(h,"algorithm must be an unsigned integer");var k=new p(0|e),x=k.address;if(h.push(x),0==(0|ft._crypto_pwhash(x,e,0,y,b,0,f,a,0,n,_))){var E=c(k,s);return u(h),E}l(h,"invalid usage")}function me(e,t,r,a,n,_){var s=[];o(_),v(s,e,"keyLength"),("number"!=typeof e||(0|e)!==e||e<0)&&d(s,"keyLength must be an unsigned integer");var h=i(t=g(s,t,"password")),y=t.length;s.push(h),r=g(s,r,"salt");var b,f=0|ft._crypto_pwhash_scryptsalsa208sha256_saltbytes();r.length!==f&&d(s,"invalid salt length"),b=i(r),s.push(b),v(s,a,"opsLimit"),("number"!=typeof a||(0|a)!==a||a<0)&&d(s,"opsLimit must be an unsigned integer"),v(s,n,"memLimit"),("number"!=typeof n||(0|n)!==n||n<0)&&d(s,"memLimit must be an unsigned integer");var m=new p(0|e),k=m.address;if(s.push(k),0==(0|ft._crypto_pwhash_scryptsalsa208sha256(k,e,0,h,y,0,b,a,0,n))){var x=c(m,_);return u(s),x}l(s,"invalid usage")}function ke(e,t,r,a,n,_,s){var h=[];o(s);var y=i(e=g(h,e,"password")),b=e.length;h.push(y);var f=i(t=g(h,t,"salt")),m=t.length;h.push(f),v(h,r,"opsLimit"),("number"!=typeof r||(0|r)!==r||r<0)&&d(h,"opsLimit must be an unsigned integer"),v(h,a,"r"),("number"!=typeof a||(0|a)!==a||a<0)&&d(h,"r must be an unsigned integer"),v(h,n,"p"),("number"!=typeof n||(0|n)!==n||n<0)&&d(h,"p must be an unsigned integer"),v(h,_,"keyLength"),("number"!=typeof _||(0|_)!==_||_<0)&&d(h,"keyLength must be an unsigned integer");var k=new p(0|_),x=k.address;if(h.push(x),0==(0|ft._crypto_pwhash_scryptsalsa208sha256_ll(y,b,f,m,r,0,a,n,x,_))){var E=c(k,s);return u(h),E}l(h,"invalid usage")}function xe(e,t,r,a){var n=[];o(a);var _=i(e=g(n,e,"password")),s=e.length;n.push(_),v(n,t,"opsLimit"),("number"!=typeof t||(0|t)!==t||t<0)&&d(n,"opsLimit must be an unsigned integer"),v(n,r,"memLimit"),("number"!=typeof r||(0|r)!==r||r<0)&&d(n,"memLimit must be an unsigned integer");var c=new p(0|ft._crypto_pwhash_scryptsalsa208sha256_strbytes()).address;if(n.push(c),0==(0|ft._crypto_pwhash_scryptsalsa208sha256_str(c,_,s,0,t,0,r))){var h=ft.Pointer_stringify(c);return u(n),h}l(n,"invalid usage")}function Ee(e,t,a){var n=[];o(a);var _=i(e=r(e+"\0"));e.length,n.push(_);var s=i(t=g(n,t,"password")),c=t.length;n.push(s);var h=0==(0|ft._crypto_pwhash_scryptsalsa208sha256_str_verify(_,s,c,0));return u(n),h}function we(e,t,r,a){var n=[];o(a);var _=i(e=g(n,e,"password")),s=e.length;n.push(_),v(n,t,"opsLimit"),("number"!=typeof t||(0|t)!==t||t<0)&&d(n,"opsLimit must be an unsigned integer"),v(n,r,"memLimit"),("number"!=typeof r||(0|r)!==r||r<0)&&d(n,"memLimit must be an unsigned integer");var c=new p(0|ft._crypto_pwhash_strbytes()).address;if(n.push(c),0==(0|ft._crypto_pwhash_str(c,_,s,0,t,0,r))){var h=ft.Pointer_stringify(c);return u(n),h}l(n,"invalid usage")}function Se(e,t,a){var n=[];o(a);var _=i(e=r(e+"\0"));e.length,n.push(_);var s=i(t=g(n,t,"password")),c=t.length;n.push(s);var h=0==(0|ft._crypto_pwhash_str_verify(_,s,c,0));return u(n),h}function Te(e,t,r){var a=[];o(r),e=g(a,e,"privateKey");var n,_=0|ft._crypto_scalarmult_scalarbytes();e.length!==_&&d(a,"invalid privateKey length"),n=i(e),a.push(n),t=g(a,t,"publicKey");var s,h=0|ft._crypto_scalarmult_scalarbytes();t.length!==h&&d(a,"invalid publicKey length"),s=i(t),a.push(s);var y=new p(0|ft._crypto_scalarmult_bytes()),v=y.address;if(a.push(v),0==(0|ft._crypto_scalarmult(v,n,s))){var b=c(y,r);return u(a),b}l(a,"weak public key")}function Ye(e,t){var r=[];o(t),e=g(r,e,"privateKey");var a,n=0|ft._crypto_scalarmult_scalarbytes();e.length!==n&&d(r,"invalid privateKey length"),a=i(e),r.push(a);var _=new p(0|ft._crypto_scalarmult_scalarbytes()),s=_.address;if(r.push(s),0==(0|ft._crypto_scalarmult_base(s,a))){var h=c(_,t);return u(r),h}l(r,"insecure scalar")}function Ae(e,t,r,a){var n=[];o(a);var _=i(e=g(n,e,"message")),s=e.length;n.push(_),t=g(n,t,"nonce");var h,y=0|ft._crypto_secretbox_noncebytes();t.length!==y&&d(n,"invalid nonce length"),h=i(t),n.push(h),r=g(n,r,"key");var v,b=0|ft._crypto_secretbox_keybytes();r.length!==b&&d(n,"invalid key length"),v=i(r),n.push(v);var f=new p(0|s),m=f.address;n.push(m);var k=new p(0|ft._crypto_secretbox_macbytes()),x=k.address;if(n.push(x),0==(0|ft._crypto_secretbox_detached(m,x,_,s,0,h,v))){var E=c({mac:k,cipher:f},a);return u(n),E}l(n,"invalid usage")}function Ke(e,t,r,a){var n=[];o(a);var _=i(e=g(n,e,"message")),s=e.length;n.push(_),t=g(n,t,"nonce");var h,y=0|ft._crypto_secretbox_noncebytes();t.length!==y&&d(n,"invalid nonce length"),h=i(t),n.push(h),r=g(n,r,"key");var v,b=0|ft._crypto_secretbox_keybytes();r.length!==b&&d(n,"invalid key length"),v=i(r),n.push(v);var f=new p(s+ft._crypto_secretbox_macbytes()|0),m=f.address;if(n.push(m),0==(0|ft._crypto_secretbox_easy(m,_,s,0,h,v))){var k=c(f,a);return u(n),k}l(n,"invalid usage")}function Be(e){var t=[];o(e);var r=new p(0|ft._crypto_secretbox_keybytes()),a=r.address;t.push(a),ft._crypto_secretbox_keygen(a);var n=c(r,e);return u(t),n}function Ie(e,t,r,a,n){var _=[];o(n);var s=i(e=g(_,e,"ciphertext")),h=e.length;_.push(s),t=g(_,t,"mac");var y,v=0|ft._crypto_secretbox_macbytes();t.length!==v&&d(_,"invalid mac length"),y=i(t),_.push(y),r=g(_,r,"nonce");var b,f=0|ft._crypto_secretbox_noncebytes();r.length!==f&&d(_,"invalid nonce length"),b=i(r),_.push(b),a=g(_,a,"key");var m,k=0|ft._crypto_secretbox_keybytes();a.length!==k&&d(_,"invalid key length"),m=i(a),_.push(m);var x=new p(0|h),E=x.address;if(_.push(E),0==(0|ft._crypto_secretbox_open_detached(E,s,y,h,0,b,m))){var w=c(x,n);return u(_),w}l(_,"wrong secret key for the given ciphertext")}function Me(e,t,r,a){var n=[];o(a);var _=i(e=g(n,e,"ciphertext")),s=e.length;n.push(_),t=g(n,t,"nonce");var h,y=0|ft._crypto_secretbox_noncebytes();t.length!==y&&d(n,"invalid nonce length"),h=i(t),n.push(h),r=g(n,r,"key");var v,b=0|ft._crypto_secretbox_keybytes();r.length!==b&&d(n,"invalid key length"),v=i(r),n.push(v);var f=new p(s-ft._crypto_secretbox_macbytes()|0),m=f.address;if(n.push(m),0==(0|ft._crypto_secretbox_open_easy(m,_,s,0,h,v))){var k=c(f,a);return u(n),k}l(n,"wrong secret key for the given ciphertext")}function Le(e,t,r){var a=[];o(r),e=g(a,e,"header");var n,_=0|ft._crypto_secretstream_xchacha20poly1305_headerbytes();e.length!==_&&d(a,"invalid header length"),n=i(e),a.push(n),t=g(a,t,"key");var s,c=0|ft._crypto_secretstream_xchacha20poly1305_keybytes();t.length!==c&&d(a,"invalid key length"),s=i(t),a.push(s);var h=new p(52).address;if(0==(0|ft._crypto_secretstream_xchacha20poly1305_init_pull(h,n,s))){var y=h;return u(a),y}l(a,"invalid usage")}function Ne(e,t){var r=[];o(t),e=g(r,e,"key");var a,n=0|ft._crypto_secretstream_xchacha20poly1305_keybytes();e.length!==n&&d(r,"invalid key length"),a=i(e),r.push(a);var _=new p(52).address,s=new p(0|ft._crypto_secretstream_xchacha20poly1305_headerbytes()),h=s.address;if(r.push(h),0==(0|ft._crypto_secretstream_xchacha20poly1305_init_push(_,h,a))){var y={state:_,header:c(s,t)};return u(r),y}l(r,"invalid usage")}function Ue(e){var t=[];o(e);var r=new p(0|ft._crypto_secretstream_xchacha20poly1305_keybytes()),a=r.address;t.push(a),ft._crypto_secretstream_xchacha20poly1305_keygen(a);var n=c(r,e);return u(t),n}function Oe(e,t,r,a){var n=[];o(a),v(n,e,"state_address");var _=i(t=g(n,t,"cipher")),s=t.length;n.push(_);var h=null,l=0;void 0!=r&&(r=g(n,r,"ad"),h=i(r),l=r.length,n.push(h));var d=new p(s-ft._crypto_secretstream_xchacha20poly1305_abytes()|0),b=d.address;n.push(b);var f=(f=function(){var t=y(1);return n.push(t),0===ft._crypto_secretstream_xchacha20poly1305_pull(e,b,0,t,_,s,0,h,l)&&{tag:ft.HEAPU8[t],message:d}}())&&{message:c(f.message,a),tag:f.tag};return u(n),f}function Re(e,t,r,a,n){var _=[];o(n),v(_,e,"state_address");var s=i(t=g(_,t,"message_chunk")),h=t.length;_.push(s);var y=null,b=0;void 0!=r&&(y=i(r=g(_,r,"ad")),b=r.length,_.push(y)),v(_,a,"tag"),("number"!=typeof a||(0|a)!==a||a<0)&&d(_,"tag must be an unsigned integer");var f=new p(h+ft._crypto_secretstream_xchacha20poly1305_abytes()|0),m=f.address;if(_.push(m),0==(0|ft._crypto_secretstream_xchacha20poly1305_push(e,m,0,s,h,0,y,b,0,a))){var k=c(f,n);return u(_),k}l(_,"invalid usage")}function Pe(e,t){var r=[];return o(t),v(r,e,"state_address"),ft._crypto_secretstream_xchacha20poly1305_rekey(e),u(r),!0}function Ce(e,t,r){var a=[];o(r);var n=i(e=g(a,e,"message")),_=e.length;a.push(n),t=g(a,t,"key");var s,h=0|ft._crypto_shorthash_keybytes();t.length!==h&&d(a,"invalid key length"),s=i(t),a.push(s);var y=new p(0|ft._crypto_shorthash_bytes()),v=y.address;if(a.push(v),0==(0|ft._crypto_shorthash(v,n,_,0,s))){var b=c(y,r);return u(a),b}l(a,"invalid usage")}function Ge(e){var t=[];o(e);var r=new p(0|ft._crypto_shorthash_keybytes()),a=r.address;t.push(a),ft._crypto_shorthash_keygen(a);var n=c(r,e);return u(t),n}function De(e,t,r){var a=[];o(r);var n=i(e=g(a,e,"message")),_=e.length;a.push(n),t=g(a,t,"key");var s,h=0|ft._crypto_shorthash_siphashx24_keybytes();t.length!==h&&d(a,"invalid key length"),s=i(t),a.push(s);var y=new p(0|ft._crypto_shorthash_siphashx24_bytes()),v=y.address;if(a.push(v),0==(0|ft._crypto_shorthash_siphashx24(v,n,_,0,s))){var b=c(y,r);return u(a),b}l(a,"invalid usage")}function Xe(e,t,r){var a=[];o(r);var n=i(e=g(a,e,"message")),_=e.length;a.push(n),t=g(a,t,"privateKey");var s,h=0|ft._crypto_sign_secretkeybytes();t.length!==h&&d(a,"invalid privateKey length"),s=i(t),a.push(s);var y=new p(e.length+ft._crypto_sign_bytes()|0),v=y.address;if(a.push(v),0==(0|ft._crypto_sign(v,null,n,_,0,s))){var b=c(y,r);return u(a),b}l(a,"invalid usage")}function Ve(e,t,r){var a=[];o(r);var n=i(e=g(a,e,"message")),_=e.length;a.push(n),t=g(a,t,"privateKey");var s,h=0|ft._crypto_sign_secretkeybytes();t.length!==h&&d(a,"invalid privateKey length"),s=i(t),a.push(s);var y=new p(0|ft._crypto_sign_bytes()),v=y.address;if(a.push(v),0==(0|ft._crypto_sign_detached(v,null,n,_,0,s))){var b=c(y,r);return u(a),b}l(a,"invalid usage")}function Fe(e,t){var r=[];o(t),e=g(r,e,"edPk");var a,n=0|ft._crypto_sign_publickeybytes();e.length!==n&&d(r,"invalid edPk length"),a=i(e),r.push(a);var _=new p(0|ft._crypto_scalarmult_scalarbytes()),s=_.address;if(r.push(s),0==(0|ft._crypto_sign_ed25519_pk_to_curve25519(s,a))){var h=c(_,t);return u(r),h}l(r,"invalid key")}function He(e,t){var r=[];o(t),e=g(r,e,"edSk");var a,n=0|ft._crypto_sign_secretkeybytes();e.length!==n&&d(r,"invalid edSk length"),a=i(e),r.push(a);var _=new p(0|ft._crypto_scalarmult_scalarbytes()),s=_.address;if(r.push(s),0==(0|ft._crypto_sign_ed25519_sk_to_curve25519(s,a))){var h=c(_,t);return u(r),h}l(r,"invalid key")}function je(e,t){var r=[];o(t),e=g(r,e,"privateKey");var a,n=0|ft._crypto_sign_secretkeybytes();e.length!==n&&d(r,"invalid privateKey length"),a=i(e),r.push(a);var _=new p(0|ft._crypto_sign_publickeybytes()),s=_.address;if(r.push(s),0==(0|ft._crypto_sign_ed25519_sk_to_pk(s,a))){var h=c(_,t);return u(r),h}l(r,"invalid key")}function ze(e,t){var r=[];o(t),e=g(r,e,"privateKey");var a,n=0|ft._crypto_sign_secretkeybytes();e.length!==n&&d(r,"invalid privateKey length"),a=i(e),r.push(a);var _=new p(0|ft._crypto_sign_seedbytes()),s=_.address;if(r.push(s),0==(0|ft._crypto_sign_ed25519_sk_to_seed(s,a))){var h=c(_,t);return u(r),h}l(r,"invalid key")}function We(e,t,r){var a=[];o(r),v(a,e,"state_address"),t=g(a,t,"privateKey");var n,_=0|ft._crypto_sign_secretkeybytes();t.length!==_&&d(a,"invalid privateKey length"),n=i(t),a.push(n);var s=new p(0|ft._crypto_sign_bytes()),h=s.address;if(a.push(h),0==(0|ft._crypto_sign_final_create(e,h,null,n))){var y=(ft._free(e),c(s,r));return u(a),y}l(a,"invalid usage")}function Je(e,t,r,a){var n=[];o(a),v(n,e,"state_address"),t=g(n,t,"signature");var _,s=0|ft._crypto_sign_bytes();t.length!==s&&d(n,"invalid signature length"),_=i(t),n.push(_),r=g(n,r,"publicKey");var c,h=0|ft._crypto_sign_publickeybytes();r.length!==h&&d(n,"invalid publicKey length"),c=i(r),n.push(c);var p=0==(0|ft._crypto_sign_final_verify(e,_,c));return u(n),p}function qe(e){var t=[];o(e);var r=new p(208).address;if(0==(0|ft._crypto_sign_init(r))){var a=r;return u(t),a}l(t,"internal error")}function Qe(e){var t=[];o(e);var r=new p(0|ft._crypto_sign_publickeybytes()),a=r.address;t.push(a);var n=new p(0|ft._crypto_sign_secretkeybytes()),_=n.address;if(t.push(_),0==(0|ft._crypto_sign_keypair(a,_))){var s={publicKey:c(r,e),privateKey:c(n,e),keyType:"ed25519"};return u(t),s}l(t,"internal error")}function Ze(e,t,r){var a=[];o(r);var n=i(e=g(a,e,"signedMessage")),_=e.length;a.push(n),t=g(a,t,"publicKey");var s,h=0|ft._crypto_sign_publickeybytes();t.length!==h&&d(a,"invalid publicKey length"),s=i(t),a.push(s);var y=new p(_-ft._crypto_sign_bytes()|0),v=y.address;if(a.push(v),0==(0|ft._crypto_sign_open(v,null,n,_,0,s))){var b=c(y,r);return u(a),b}l(a,"incorrect signature for the given public key")}function $e(e,t){var r=[];o(t),e=g(r,e,"seed");var a,n=0|ft._crypto_sign_seedbytes();e.length!==n&&d(r,"invalid seed length"),a=i(e),r.push(a);var _=new p(0|ft._crypto_sign_publickeybytes()),s=_.address;r.push(s);var h=new p(0|ft._crypto_sign_secretkeybytes()),y=h.address;if(r.push(y),0==(0|ft._crypto_sign_seed_keypair(s,y,a))){var v={publicKey:c(_,t),privateKey:c(h,t),keyType:"ed25519"};return u(r),v}l(r,"invalid usage")}function et(e,t,r){var a=[];o(r),v(a,e,"state_address");var n=i(t=g(a,t,"message_chunk")),_=t.length;a.push(n),0!=(0|ft._crypto_sign_update(e,n,_))&&l(a,"invalid usage"),u(a)}function tt(e,t,r){var a=[];e=g(a,e,"signature");var n,_=0|ft._crypto_sign_bytes();e.length!==_&&d(a,"invalid signature length"),n=i(e),a.push(n);var s=i(t=g(a,t,"message")),c=t.length;a.push(s),r=g(a,r,"publicKey");var h,o=0|ft._crypto_sign_publickeybytes();r.length!==o&&d(a,"invalid publicKey length"),h=i(r),a.push(h);var p=0==(0|ft._crypto_sign_verify_detached(n,s,c,0,h));return u(a),p}function rt(e,t,r,a){var n=[];o(a);var _=i(e=g(n,e,"input_message")),s=e.length;n.push(_),t=g(n,t,"nonce");var h,y=0|ft._crypto_stream_chacha20_ietf_noncebytes();t.length!==y&&d(n,"invalid nonce length"),h=i(t),n.push(h),r=g(n,r,"key");var v,b=0|ft._crypto_stream_chacha20_ietf_keybytes();r.length!==b&&d(n,"invalid key length"),v=i(r),n.push(v);var f=new p(0|s),m=f.address;if(n.push(m),0===ft._crypto_stream_chacha20_ietf_xor(m,_,s,0,h,v)){var k=c(f,a);return u(n),k}l(n,"invalid usage")}function at(e,t,r,a,n){var _=[];o(n);var s=i(e=g(_,e,"input_message")),h=e.length;_.push(s),t=g(_,t,"nonce");var y,b=0|ft._crypto_stream_chacha20_ietf_noncebytes();t.length!==b&&d(_,"invalid nonce length"),y=i(t),_.push(y),v(_,r,"nonce_increment"),("number"!=typeof r||(0|r)!==r||r<0)&&d(_,"nonce_increment must be an unsigned integer"),a=g(_,a,"key");var f,m=0|ft._crypto_stream_chacha20_ietf_keybytes();a.length!==m&&d(_,"invalid key length"),f=i(a),_.push(f);var k=new p(0|h),x=k.address;if(_.push(x),0===ft._crypto_stream_chacha20_ietf_xor_ic(x,s,h,0,y,r,0,f)){var E=c(k,n);return u(_),E}l(_,"invalid usage")}function nt(e){var t=[];o(e);var r=new p(0|ft._crypto_stream_chacha20_keybytes()),a=r.address;t.push(a),ft._crypto_stream_chacha20_keygen(a);var n=c(r,e);return u(t),n}function _t(e,t,r,a){var n=[];o(a);var _=i(e=g(n,e,"input_message")),s=e.length;n.push(_),t=g(n,t,"nonce");var h,y=0|ft._crypto_stream_chacha20_noncebytes();t.length!==y&&d(n,"invalid nonce length"),h=i(t),n.push(h),r=g(n,r,"key");var v,b=0|ft._crypto_stream_chacha20_keybytes();r.length!==b&&d(n,"invalid key length"),v=i(r),n.push(v);var f=new p(0|s),m=f.address;if(n.push(m),0===ft._crypto_stream_chacha20_xor(m,_,s,0,h,v)){var k=c(f,a);return u(n),k}l(n,"invalid usage")}function st(e,t,r,a,n){var _=[];o(n);var s=i(e=g(_,e,"input_message")),h=e.length;_.push(s),t=g(_,t,"nonce");var y,b=0|ft._crypto_stream_chacha20_noncebytes();t.length!==b&&d(_,"invalid nonce length"),y=i(t),_.push(y),v(_,r,"nonce_increment"),("number"!=typeof r||(0|r)!==r||r<0)&&d(_,"nonce_increment must be an unsigned integer"),a=g(_,a,"key");var f,m=0|ft._crypto_stream_chacha20_keybytes();a.length!==m&&d(_,"invalid key length"),f=i(a),_.push(f);var k=new p(0|h),x=k.address;if(_.push(x),0===ft._crypto_stream_chacha20_xor_ic(x,s,h,0,y,r,0,f)){var E=c(k,n);return u(_),E}l(_,"invalid usage")}function ct(e){var t=[];o(e);var r=new p(0|ft._crypto_stream_keybytes()),a=r.address;t.push(a),ft._crypto_stream_keygen(a);var n=c(r,e);return u(t),n}function ht(e){var t=[];o(e);var r=new p(0|ft._crypto_stream_xchacha20_keybytes()),a=r.address;t.push(a),ft._crypto_stream_xchacha20_keygen(a);var n=c(r,e);return u(t),n}function ot(e,t,r,a){var n=[];o(a);var _=i(e=g(n,e,"input_message")),s=e.length;n.push(_),t=g(n,t,"nonce");var h,y=0|ft._crypto_stream_xchacha20_noncebytes();t.length!==y&&d(n,"invalid nonce length"),h=i(t),n.push(h),r=g(n,r,"key");var v,b=0|ft._crypto_stream_xchacha20_keybytes();r.length!==b&&d(n,"invalid key length"),v=i(r),n.push(v);var f=new p(0|s),m=f.address;if(n.push(m),0===ft._crypto_stream_xchacha20_xor(m,_,s,0,h,v)){var k=c(f,a);return u(n),k}l(n,"invalid usage")}function pt(e,t,r,a,n){var _=[];o(n);var s=i(e=g(_,e,"input_message")),h=e.length;_.push(s),t=g(_,t,"nonce");var y,b=0|ft._crypto_stream_xchacha20_noncebytes();t.length!==b&&d(_,"invalid nonce length"),y=i(t),_.push(y),v(_,r,"nonce_increment"),("number"!=typeof r||(0|r)!==r||r<0)&&d(_,"nonce_increment must be an unsigned integer"),a=g(_,a,"key");var f,m=0|ft._crypto_stream_xchacha20_keybytes();a.length!==m&&d(_,"invalid key length"),f=i(a),_.push(f);var k=new p(0|h),x=k.address;if(_.push(x),0===ft._crypto_stream_xchacha20_xor_ic(x,s,h,0,y,r,0,f)){var E=c(k,n);return u(_),E}l(_,"invalid usage")}function it(e,t){var r=[];o(t),v(r,e,"length"),("number"!=typeof e||(0|e)!==e||e<0)&&d(r,"length must be an unsigned integer");var a=new p(0|e),n=a.address;r.push(n),ft._randombytes_buf(n,e);var _=c(a,t);return u(r),_}function yt(e,t,r){var a=[];o(r),v(a,e,"length"),("number"!=typeof e||(0|e)!==e||e<0)&&d(a,"length must be an unsigned integer"),t=g(a,t,"seed");var n,_=0|ft._randombytes_seedbytes();t.length!==_&&d(a,"invalid seed length"),n=i(t),a.push(n);var s=new p(0|e),h=s.address;a.push(h),ft._randombytes_buf_deterministic(h,e,0,t);var y=c(s,r);return u(a),y}function ut(e){o(e),ft._randombytes_close()}function lt(e){o(e);var t=ft._randombytes_random()>>>0;return u([]),t}function dt(e,t){var r=[];o(t);for(var a=ft._malloc(24),n=0;n<6;n++)ft.setValue(a+4*n,ft.Runtime.addFunction(e[["implementation_name","random","stir","uniform","buf","close"][n]]),"i32");0!=(0|ft._randombytes_set_implementation(a))&&l(r,"unsupported implementation"),u(r)}function vt(e){o(e),ft._randombytes_stir()}function gt(e,t){var r=[];o(t),v(r,e,"upper_bound"),("number"!=typeof e||(0|e)!==e||e<0)&&d(r,"upper_bound must be an unsigned integer");var a=ft._randombytes_uniform(e)>>>0;return u(r),a}function bt(){var e=ft._sodium_version_string(),t=ft.Pointer_stringify(e);return u([]),t}var ft,mt="uint8array",kt=t.ready.then(function(){if(0!==(ft=t)._sodium_init())throw new Error("libsodium was not correctly initialized.");for(var r=["crypto_aead_chacha20poly1305_decrypt","crypto_aead_chacha20poly1305_decrypt_detached","crypto_aead_chacha20poly1305_encrypt","crypto_aead_chacha20poly1305_encrypt_detached","crypto_aead_chacha20poly1305_ietf_decrypt","crypto_aead_chacha20poly1305_ietf_decrypt_detached","crypto_aead_chacha20poly1305_ietf_encrypt","crypto_aead_chacha20poly1305_ietf_encrypt_detached","crypto_aead_chacha20poly1305_ietf_keygen","crypto_aead_chacha20poly1305_keygen","crypto_aead_xchacha20poly1305_ietf_decrypt","crypto_aead_xchacha20poly1305_ietf_decrypt_detached","crypto_aead_xchacha20poly1305_ietf_encrypt","crypto_aead_xchacha20poly1305_ietf_encrypt_detached","crypto_aead_xchacha20poly1305_ietf_keygen","crypto_auth","crypto_auth_hmacsha256","crypto_auth_hmacsha256_keygen","crypto_auth_hmacsha256_verify","crypto_auth_hmacsha512","crypto_auth_hmacsha512_keygen","crypto_auth_hmacsha512_verify","crypto_auth_keygen","crypto_auth_verify","crypto_box_beforenm","crypto_box_detached","crypto_box_easy","crypto_box_easy_afternm","crypto_box_keypair","crypto_box_open_detached","crypto_box_open_easy","crypto_box_open_easy_afternm","crypto_box_seal","crypto_box_seal_open","crypto_box_seed_keypair","crypto_generichash","crypto_generichash_final","crypto_generichash_init","crypto_generichash_keygen","crypto_generichash_update","crypto_hash","crypto_hash_sha256","crypto_hash_sha512","crypto_kdf_derive_from_key","crypto_kdf_keygen","crypto_kx_client_session_keys","crypto_kx_keypair","crypto_kx_seed_keypair","crypto_kx_server_session_keys","crypto_onetimeauth","crypto_onetimeauth_final","crypto_onetimeauth_init","crypto_onetimeauth_keygen","crypto_onetimeauth_update","crypto_onetimeauth_verify","crypto_pwhash","crypto_pwhash_scryptsalsa208sha256","crypto_pwhash_scryptsalsa208sha256_ll","crypto_pwhash_scryptsalsa208sha256_str","crypto_pwhash_scryptsalsa208sha256_str_verify","crypto_pwhash_str","crypto_pwhash_str_verify","crypto_scalarmult","crypto_scalarmult_base","crypto_secretbox_detached","crypto_secretbox_easy","crypto_secretbox_keygen","crypto_secretbox_open_detached","crypto_secretbox_open_easy","crypto_secretstream_xchacha20poly1305_init_pull","crypto_secretstream_xchacha20poly1305_init_push","crypto_secretstream_xchacha20poly1305_keygen","crypto_secretstream_xchacha20poly1305_pull","crypto_secretstream_xchacha20poly1305_push","crypto_secretstream_xchacha20poly1305_rekey","crypto_shorthash","crypto_shorthash_keygen","crypto_shorthash_siphashx24","crypto_sign","crypto_sign_detached","crypto_sign_ed25519_pk_to_curve25519","crypto_sign_ed25519_sk_to_curve25519","crypto_sign_ed25519_sk_to_pk","crypto_sign_ed25519_sk_to_seed","crypto_sign_final_create","crypto_sign_final_verify","crypto_sign_init","crypto_sign_keypair","crypto_sign_open","crypto_sign_seed_keypair","crypto_sign_update","crypto_sign_verify_detached","crypto_stream_chacha20_ietf_xor","crypto_stream_chacha20_ietf_xor_ic","crypto_stream_chacha20_keygen","crypto_stream_chacha20_xor","crypto_stream_chacha20_xor_ic","crypto_stream_keygen","crypto_stream_xchacha20_keygen","crypto_stream_xchacha20_xor","crypto_stream_xchacha20_xor_ic","randombytes_buf","randombytes_buf_deterministic","randombytes_close","randombytes_random","randombytes_set_implementation","randombytes_stir","randombytes_uniform","sodium_version_string"],a=[b,f,m,k,x,E,w,S,T,Y,A,K,B,I,M,L,N,U,O,R,P,C,G,D,X,V,F,H,j,z,W,J,q,Q,Z,$,ee,te,re,ae,ne,_e,se,ce,he,oe,pe,ie,ye,ue,le,de,ve,ge,be,fe,me,ke,xe,Ee,we,Se,Te,Ye,Ae,Ke,Be,Ie,Me,Le,Ne,Ue,Oe,Re,Pe,Ce,Ge,De,Xe,Ve,Fe,He,je,ze,We,Je,qe,Qe,Ze,$e,et,tt,rt,at,nt,_t,st,ct,ht,ot,pt,it,yt,ut,lt,dt,vt,gt,bt],n=0;n<a.length;n++)"function"==typeof ft["_"+r[n]]&&(e[r[n]]=a[n]);var _=["SODIUM_LIBRARY_VERSION_MAJOR","SODIUM_LIBRARY_VERSION_MINOR","crypto_aead_chacha20poly1305_ABYTES","crypto_aead_chacha20poly1305_KEYBYTES","crypto_aead_chacha20poly1305_MESSAGEBYTES_MAX","crypto_aead_chacha20poly1305_NPUBBYTES","crypto_aead_chacha20poly1305_NSECBYTES","crypto_aead_chacha20poly1305_ietf_ABYTES","crypto_aead_chacha20poly1305_ietf_KEYBYTES","crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX","crypto_aead_chacha20poly1305_ietf_NPUBBYTES","crypto_aead_chacha20poly1305_ietf_NSECBYTES","crypto_aead_xchacha20poly1305_ietf_ABYTES","crypto_aead_xchacha20poly1305_ietf_KEYBYTES","crypto_aead_xchacha20poly1305_ietf_MESSAGEBYTES_MAX","crypto_aead_xchacha20poly1305_ietf_NPUBBYTES","crypto_aead_xchacha20poly1305_ietf_NSECBYTES","crypto_auth_BYTES","crypto_auth_KEYBYTES","crypto_auth_hmacsha256_BYTES","crypto_auth_hmacsha256_KEYBYTES","crypto_auth_hmacsha512_BYTES","crypto_auth_hmacsha512_KEYBYTES","crypto_box_BEFORENMBYTES","crypto_box_MACBYTES","crypto_box_MESSAGEBYTES_MAX","crypto_box_NONCEBYTES","crypto_box_PUBLICKEYBYTES","crypto_box_SEALBYTES","crypto_box_SECRETKEYBYTES","crypto_box_SEEDBYTES","crypto_core_hchacha20_CONSTBYTES","crypto_core_hchacha20_INPUTBYTES","crypto_core_hchacha20_KEYBYTES","crypto_core_hchacha20_OUTPUTBYTES","crypto_generichash_BYTES","crypto_generichash_BYTES_MAX","crypto_generichash_BYTES_MIN","crypto_generichash_KEYBYTES","crypto_generichash_KEYBYTES_MAX","crypto_generichash_KEYBYTES_MIN","crypto_hash_BYTES","crypto_hash_sha256_BYTES","crypto_hash_sha512_BYTES","crypto_kdf_BYTES_MAX","crypto_kdf_BYTES_MIN","crypto_kdf_CONTEXTBYTES","crypto_kdf_KEYBYTES","crypto_kx_PUBLICKEYBYTES","crypto_kx_SECRETKEYBYTES","crypto_kx_SEEDBYTES","crypto_kx_SESSIONKEYBYTES","crypto_onetimeauth_BYTES","crypto_onetimeauth_KEYBYTES","crypto_pwhash_ALG_ARGON2I13","crypto_pwhash_ALG_ARGON2ID13","crypto_pwhash_ALG_DEFAULT","crypto_pwhash_BYTES_MAX","crypto_pwhash_BYTES_MIN","crypto_pwhash_MEMLIMIT_INTERACTIVE","crypto_pwhash_MEMLIMIT_MAX","crypto_pwhash_MEMLIMIT_MIN","crypto_pwhash_MEMLIMIT_MODERATE","crypto_pwhash_MEMLIMIT_SENSITIVE","crypto_pwhash_OPSLIMIT_INTERACTIVE","crypto_pwhash_OPSLIMIT_MAX","crypto_pwhash_OPSLIMIT_MIN","crypto_pwhash_OPSLIMIT_MODERATE","crypto_pwhash_OPSLIMIT_SENSITIVE","crypto_pwhash_PASSWD_MAX","crypto_pwhash_PASSWD_MIN","crypto_pwhash_SALTBYTES","crypto_pwhash_STRBYTES","crypto_pwhash_STR_VERIFY","crypto_pwhash_scryptsalsa208sha256_BYTES_MAX","crypto_pwhash_scryptsalsa208sha256_BYTES_MIN","crypto_pwhash_scryptsalsa208sha256_MEMLIMIT_INTERACTIVE","crypto_pwhash_scryptsalsa208sha256_MEMLIMIT_MAX","crypto_pwhash_scryptsalsa208sha256_MEMLIMIT_MIN","crypto_pwhash_scryptsalsa208sha256_MEMLIMIT_SENSITIVE","crypto_pwhash_scryptsalsa208sha256_OPSLIMIT_INTERACTIVE","crypto_pwhash_scryptsalsa208sha256_OPSLIMIT_MAX","crypto_pwhash_scryptsalsa208sha256_OPSLIMIT_MIN","crypto_pwhash_scryptsalsa208sha256_OPSLIMIT_SENSITIVE","crypto_pwhash_scryptsalsa208sha256_SALTBYTES","crypto_pwhash_scryptsalsa208sha256_STRBYTES","crypto_pwhash_scryptsalsa208sha256_STR_VERIFY","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","crypto_secretbox_KEYBYTES","crypto_secretbox_MACBYTES","crypto_secretbox_MESSAGEBYTES_MAX","crypto_secretbox_NONCEBYTES","crypto_secretstream_xchacha20poly1305_ABYTES","crypto_secretstream_xchacha20poly1305_HEADERBYTES","crypto_secretstream_xchacha20poly1305_KEYBYTES","crypto_secretstream_xchacha20poly1305_MESSAGEBYTES_MAX","crypto_secretstream_xchacha20poly1305_MESSAGESBYTES_MAX","crypto_secretstream_xchacha20poly1305_NPUBBYTES","crypto_secretstream_xchacha20poly1305_TAG_FINAL","crypto_secretstream_xchacha20poly1305_TAG_MESSAGE","crypto_secretstream_xchacha20poly1305_TAG_PUSH","crypto_secretstream_xchacha20poly1305_TAG_REKEY","crypto_shorthash_BYTES","crypto_shorthash_KEYBYTES","crypto_shorthash_siphashx24_BYTES","crypto_shorthash_siphashx24_KEYBYTES","crypto_sign_BYTES","crypto_sign_MESSAGEBYTES_MAX","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","crypto_sign_SEEDBYTES","crypto_stream_KEYBYTES","crypto_stream_MESSAGEBYTES_MAX","crypto_stream_NONCEBYTES","crypto_stream_chacha20_KEYBYTES","crypto_stream_chacha20_NONCEBYTES","crypto_stream_chacha20_ietf_KEYBYTES","crypto_stream_chacha20_ietf_MESSAGEBYTES_MAX","crypto_stream_chacha20_ietf_NONCEBYTES","crypto_stream_xchacha20_KEYBYTES","crypto_stream_xchacha20_MESSAGEBYTES_MAX","crypto_stream_xchacha20_NONCEBYTES","randombytes_SEEDBYTES"];for(n=0;n<_.length;n++)"function"==typeof(c=ft["_"+_[n].toLowerCase()])&&(e[_[n]]=c());var s=["SODIUM_VERSION_STRING","crypto_pwhash_STRPREFIX","crypto_pwhash_scryptsalsa208sha256_STRPREFIX"];for(n=0;n<s.length;n++){var c=ft["_"+s[n].toLowerCase()];"function"==typeof c&&(e[s[n]]=ft.Pointer_stringify(c()))}}),xt={ORIGINAL:1,ORIGINAL_NO_PADDING:3,URLSAFE:5,URLSAFE_NO_PADDING:7};return p.prototype.to_Uint8Array=function(){var e=new Uint8Array(this.length);return e.set(ft.HEAPU8.subarray(this.address,this.address+this.length)),e},e.add=function(e,t){if(!(e instanceof Uint8Array&&t instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can added");var r=e.length,a=0,n=0;if(t.length!=e.length)throw new TypeError("Arguments must have the same length");for(n=0;n<r;n++)a>>=8,a+=e[n]+t[r],e[n]=255&a},e.base64_variants=xt,e.compare=function(e,t){if(!(e instanceof Uint8Array&&t instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be compared");if(e.length!==t.length)throw new TypeError("Only instances of identical length can be compared");for(var r=0,a=1,n=e.length;n-- >0;)r|=t[n]-e[n]>>8&a,a&=(t[n]^e[n])-1>>8;return r+r+a-1},e.from_base64=function(e,t){t=_(t);var r,a=[],n=new p(3*(e=g(a,e,"input")).length/4),s=i(e),c=y(4),h=y(4);return a.push(s),a.push(n.address),a.push(n.result_bin_len_p),a.push(n.b64_end_p),0!==ft._sodium_base642bin(n.address,n.length,s,e.length,0,c,h,t)&&l(a,"invalid input"),ft.getValue(h,"i32")-s!==e.length&&l(a,"incomplete input"),n.length=ft.getValue(c,"i32"),r=n.to_Uint8Array(),u(a),r},e.from_hex=function(e){var t,r=[],a=new p((e=g(r,e,"input")).length/2),n=i(e),_=y(4);return r.push(n),r.push(a.address),r.push(a.hex_end_p),0!==ft._sodium_hex2bin(a.address,a.length,n,e.length,0,0,_)&&l(r,"invalid input"),ft.getValue(_,"i32")-n!==e.length&&l(r,"incomplete input"),t=a.to_Uint8Array(),u(r),t},e.from_string=r,e.increment=function(e){if(!(e instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be incremented");for(var t=256,r=0,a=e.length;r<a;r++)t>>=8,t+=e[r],e[r]=255&t},e.is_zero=function(e){if(!(e instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be checked");for(var t=0,r=0,a=e.length;r<a;r++)t|=e[r];return 0===t},e.libsodium=t,e.memcmp=function(e,t){if(!(e instanceof Uint8Array&&t instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be compared");if(e.length!==t.length)throw new TypeError("Only instances of identical length can be compared");for(var r=0,a=0,n=e.length;a<n;a++)r|=e[a]^t[a];return 0===r},e.memzero=function(e){if(!(e instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be wiped");for(var t=0,r=e.length;t<r;t++)e[t]=0},e.output_formats=function(){return["uint8array","text","hex","base64"]},e.pad=function(e,t){if(!(e instanceof Uint8Array))throw new TypeError("buffer must be a Uint8Array");if((t|=0)<=0)throw new Error("block size must be > 0");var r,a=[],n=y(4),_=1,s=0,c=0|e.length,h=new p(c+t);a.push(n),a.push(h.address);for(var o=h.address,i=h.address+c+t;o<i;o++)ft.HEAPU8[o]=e[s],s+=_=1&~((65535&((c-=_)>>>48|c>>>32|c>>>16|c))-1>>16);return 0!==ft._sodium_pad(n,h.address,e.length,t,h.length)&&l(a,"internal error"),h.length=ft.getValue(n,"i32"),r=h.to_Uint8Array(),u(a),r},e.unpad=function(e,t){if(!(e instanceof Uint8Array))throw new TypeError("buffer must be a Uint8Array");if((t|=0)<=0)throw new Error("block size must be > 0");var r=[],a=i(e),n=y(4);return r.push(a),r.push(n),0!==ft._sodium_unpad(n,a,e.length,t)&&l(r,"unsupported/invalid padding"),e=(e=new Uint8Array(e)).subarray(0,ft.getValue(n,"i32")),u(r),e},e.ready=kt,e.symbols=function(){return Object.keys(e).sort()},e.to_base64=s,e.to_hex=n,e.to_string=a,e}var r="object"==typeof e.sodium&&"function"==typeof e.sodium.onload?e.sodium.onload:null;"function"==typeof define&&define.amd?define(["exports","libsodium"],t):"object"==typeof exports&&"string"!=typeof exports.nodeName?t(exports,require("libsodium")):e.sodium=t(e.commonJsStrict={},e.libsodium),r&&e.sodium.ready.then(function(){r(e.sodium)})}(this);
