<div
	fxFlexFill
	fxLayout='row'
	class='card-list animated slideInDown'
	[class.initiating]='accountContactsService.showSpinner'
>
	<div fxFlexFill fxLayout='column' fxLayoutAlign='start stretch'>
		<cyph-account-contacts-search
			#accountContactsSearch
			[contactList]='contactList'
			[searchProfileExtra]='searchProfileExtra'
		></cyph-account-contacts-search>

		<cyph-account-contact
			class='active animated slideInDown'
			[class.cyph-inverted-theme]='invertedTheme'
			[contact]='accountContactsSearch?.searchBar?.filter | async'
			(click)='accountContactsSearch?.searchBar?.clearFilter()'
			*ngIf='(accountContactsSearch?.searchBar?.filter | async) !== undefined'
		></cyph-account-contact>

		<cyph-account-contact
			class='active animated slideInDown'
			[class.cyph-inverted-theme]='invertedTheme'
			[contact]='activeUser | async'
			*ngIf='(accountContactsSearch?.searchBar?.filter | async) === undefined'
		></cyph-account-contact>

		<od-virtualscroll
			[vsData]='filteredContactList'
			[vsEqualsFunc]='vsEqualsFunc'
			[vsOptions]='vsOptions'
			*ngIf='
				showContactList &&
				(accountContactsSearch?.searchBar?.filter | async) === undefined
			'
		>
			<ng-template let-item>
				<cyph-account-contact
					[contact]='item'
					class='animated slideInDown'
					[class.cyph-inverted-theme]='invertedTheme'
				></cyph-account-contact>
			</ng-template>
		</od-virtualscroll>
	</div>

	<mat-progress-spinner
		mode='indeterminate'
		*ngIf='accountContactsService.showSpinner'
	></mat-progress-spinner>
</div>
