<div fxFlex fxFlexFill fxLayout='column'>
	<md-list fxLayout='column' class='contacts'>
		<md-list-item
			fxLayout='row'
			class='contact'
			*ngFor='let contact of accountContactsService.contacts; let i = index'
			[attr.data-index]='i'
			[class.active]='
				this.accountService.state === states.chat &&
				this.accountService.input === contact.username
			'
		>
			<div
				fxFlex
				fxLayout='row'
				fxLayoutAlign='start stretch'
				class='wrapper animated flipInY _{{i}}'
			>
				<div fxLayout='column'>
					<img
						class='avatar'
						[ngClass]='userPresence[contact.status]'
						[src]='contact.avatar'
						alt='User Avatar'
						(click)='urlStateService.setUrl("account/profile/" + contact.username)'
					/>
					<h4 class='status'>
						{{userPresence[contact.status]}}
					</h4>
				</div>
				<div fxFlex fxLayout='column' class='user'>
					<h2 class='name'>
						{{contact.name}}
					</h2>
					<span class='username'>
						{{contact.realUsername}} 
					</span>
				</div>
				<button
					md-icon-button
					fxLayout='row'
					cyphTranslate
					class='message'
					mdTooltip='Send Message'
					*ngIf='contact.status !== userPresence.online'
				>
					<md-icon>email</md-icon>
				</button>
				<button
					md-icon-button
					fxLayout='row'
					cyphTranslate
					class='chat'
					mdTooltip='Start Chat'
					*ngIf='contact.status === userPresence.online'
					(click)='urlStateService.setUrl("account/chat/" + contact.username)'
				>
					<md-icon>chat_bubble</md-icon>
				</button>
				<button
					md-icon-button
					fxLayout='row'
					cyphTranslate
					mdTooltip='Video Call'
				>
					<md-icon>videocam</md-icon>
				</button>
				<button
					md-icon-button
					fxLayout='row'
					cyphTranslate
					mdTooltip='Send File'
				>
					<md-icon>attachment</md-icon>
				</button>
			</div>
		</md-list-item>
	</md-list>
</div>
