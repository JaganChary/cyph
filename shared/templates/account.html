<div cyphNanoScroller fxFlexFill fxLayout='row' [class.mobile]='envService.isMobile'>
	<canvas class='cyph-gradient'></canvas>

	<cyph-account-menu
		fxLayout='column'
		class='menu sidebar'
		[fxFlex]='accountService.menuExpanded && !envService.isMobile ? "20" : "5"'
		*ngIf='menuVisible'
	></cyph-account-menu>

	<div
		fxFlex
		fxLayout='column'
		*ngIf='!showOnlySidebar'
	>
		<cyph-account-chat
			fxFlexFill
			[username]='accountService.input'
			*ngIf='accountService.state === states.chat'
		></cyph-account-chat>

		<cyph-account-files
			fxFlexFill
			*ngIf='accountService.state === states.files'
		></cyph-account-files>

		<cyph-account-home
			fxFlexFill
			*ngIf='accountService.state === states.home'
		></cyph-account-home>

		<cyph-account-login
			fxFlexFill
			*ngIf='accountService.state === states.login'
		></cyph-account-login>

		<cyph-account-logout
			fxFlexFill
			*ngIf='accountService.state === states.logout'
		></cyph-account-logout>

		<cyph-account-profile
			fxFlexFill
			[username]='accountService.input'
			*ngIf='accountService.state === states.profile'
		></cyph-account-profile>

		<cyph-account-register
			fxFlexFill
			*ngIf='accountService.state === states.register'
		></cyph-account-register>

		<cyph-account-settings
			fxFlexFill
			*ngIf='accountService.state === states.settings'
		></cyph-account-settings>
	</div>

	<div
		[fxFlex]='showOnlySidebar ? "" : "25"'
		fxFlexFill
		fxLayout='column'
		class='sidebar'
		*ngIf='sidebarVisible'
	>
		<div fxFlexFill fxLayout='row'>
			<div *ngIf='!envService.isMobile && showOnlySidebar' fxFlex='30'></div>
			<cyph-account-contacts></cyph-account-contacts>
			<div *ngIf='!envService.isMobile && showOnlySidebar' fxFlex='30'></div>
		</div>
	</div>
</div>
