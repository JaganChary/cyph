<div fxLayout='column' class='profile' *ngIf='user' [class.mobile]='envService.isMobile'>
	<img
		class='profile-picture animated flipInX _1'
		[ngClass]='userPresence[user.status]'
		alt='Profile Picture'
		[src]='user.avatar'
	/>
	<span class='name animated flipInX _2'>{{user.name}}</span>
	<span class='username animated flipInX _2'>@{{user.realUsername}}</span>
	<span class='description animated flipInX _3'>{{user.description}}</span>
	
	<div *ngIf='isCurrentUser' fxFlex='50' class='status'>
		<md-select
			fxFlex
			cyphTranslate
			[(ngModel)]='user.status'
			name='status'
			placeholder='Status'
		>
			<md-option
				*ngFor='let status of statuses'
				[value]='status.value'
			>
				{{status.text}}
			</md-option>
		</md-select>
	</div>

	<div *ngIf='!isCurrentUser' fxLayout='row' class='buttons'>
		<div fxFlex></div>

		<button
			md-fab
			cyphTranslate
			class='animated flipInX _4'
			mdTooltip='Add User'
		>
			<md-icon>person_add</md-icon>
		</button>

		<button
			md-fab
			cyphTranslate
			class='animated flipInX _4'
			mdTooltip='Send Message'
			*ngIf='user.status !== userPresence.online'
		>
			<md-icon>email</md-icon>
		</button>
		<button
			md-fab
			cyphTranslate
			class='animated flipInX _4'
			mdTooltip='Start Chat'
			*ngIf='user.status === userPresence.online'
			(click)='urlStateService.setUrl("account/chat/" + user.username)'
		>
			<md-icon>chat_bubble</md-icon>
		</button>

		<div fxFlex></div>
	</div>
</div>
