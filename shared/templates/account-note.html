<div fxFlexFill fxLayoutAlign='center start'>
	<md-card fxFlex='90' class='note'>
		<div fxLayout='column'>
			<div fxLayoutAlign='center center' fxLayout='row'>
				<md-card-title fxFlex>
					<div *ngIf='!editable'>
						{{(note?.metadata | async)?.name}}
					</div>
					<md-input-container fxFlex *ngIf='editable'>
						<input
							mdInput
							cyphTranslate
							[(ngModel)]='noteData.name'
							required
						/>
					</md-input-container>
				</md-card-title>
				<md-card-header>
					<button
						md-icon-button
						cyphTranslate
						mdTooltip='Edit Note'
						routerLink='edit'
						*ngIf='!editable'
					>
						<md-icon>edit</md-icon>
					</button>
					<button
						md-icon-button
						cyphTranslate
						mdTooltip='Close Editor'
						routerLink='.'
						*ngIf='editable'
					>
						<md-icon>close</md-icon>
					</button>
					<button
						md-icon-button
						cyphTranslate
						mdTooltip='Save Note'
						(click)='saveNote()'
						*ngIf='editable'
					>
						<md-icon>save</md-icon>
					</button>
					<button
						md-icon-button
						cyphTranslate
						mdTooltip='Delete Note'
						*ngIf='!newNote'
						(click)='accountFilesService.remove(note.metadata)'
					>
						<md-icon>delete</md-icon>
					</button>
				</md-card-header>
			</div>
			<md-card-content fxFlex fxLayout='column'>
				<div [class.cyph-light-theme]='editable'>
					<md-card [class.no-shadow]='!editable'>
						<md-card-content>
							<cyph-quill
								[content]='note?.content | async'
								[readOnly]='!editable'
								(onChange)='noteData.content = $event.content'
							></cyph-quill>
						</md-card-content>
					</md-card>
				</div>
			</md-card-content>
		</div>
	</md-card>
</div>
